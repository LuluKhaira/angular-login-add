import{a as k}from"./chunk-4KAKX7ON.js";import"./chunk-KFOPJYQB.js";import{a as w,b as R,c as j,d as B,e as q,f as G,g as $}from"./chunk-BRFUPWSU.js";import{a as V,b as M,c as _,d as x,j as I,k as P}from"./chunk-ANQY3U23.js";import"./chunk-KPMFEKSX.js";import{d as S,e as s,g as N,h as C,l as g,m as E,o as D,p as O,s as T,u as A}from"./chunk-ZZXE7U5U.js";import{Fa as r,Oa as o,Pa as n,Qa as p,S as b,Wb as f,Xa as c,Y as h,Z as y,b as v,d as z,eb as a,mb as F,ra as i,sa as u}from"./chunk-W27VMSYU.js";import"./chunk-ECPHVXTZ.js";var d=class m{constructor(t,e){this.fb=t;this.firestoreService=e}destroy$=new z;validateForm;ngOnInit(){this.validateForm=this.fb.group({userName:this.fb.control("",[s.required],[this.userNameAsyncValidator]),age:this.fb.control("",[s.required,s.min(18)]),address:this.fb.control("",[s.required])})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}submitForm(){if(this.validateForm.valid){let t=this.validateForm.value;this.firestoreService.addDocument("users",t).then(()=>{console.log("Data saved successfully!"),this.validateForm.reset()}).catch(e=>{console.error("Error saving data:",e)})}else Object.values(this.validateForm.controls).forEach(t=>{let e=t;e.invalid&&(e.markAsDirty(),e.updateValueAndValidity())})}resetForm(t){t.preventDefault(),this.validateForm.reset();for(let e in this.validateForm.controls)this.validateForm.controls.hasOwnProperty(e)&&(this.validateForm.controls[e].markAsPristine(),this.validateForm.controls[e].updateValueAndValidity())}userNameAsyncValidator(t){return new v(e=>{setTimeout(()=>{t.value==="JasonWood"?e.next({error:!0,duplicated:!0}):e.next(null),e.complete()},1e3)})}static \u0275fac=function(e){return new(e||m)(u(T),u(k))};static \u0275cmp=h({type:m,selectors:[["app-tambah"]],standalone:!0,features:[F],decls:22,vars:13,consts:[["nz-form","",3,"ngSubmit","formGroup"],["nzRequired","",3,"nzSpan"],["nzHasFeedback","",3,"nzSpan","nzErrorTip"],["nz-input","","formControlName","userName","placeholder","Enter your username"],["nz-input","","type","number","formControlName","age","placeholder","Enter your age"],["nz-input","","formControlName","address","placeholder","Enter your address"],[3,"nzOffset","nzSpan"],["nz-button","","nzType","primary",3,"disabled"],["nz-button","",3,"click"]],template:function(e,l){e&1&&(o(0,"form",0),c("ngSubmit",function(){return l.submitForm()}),o(1,"nz-form-item")(2,"nz-form-label",1),a(3,"Username"),n(),o(4,"nz-form-control",2),p(5,"input",3),n()(),o(6,"nz-form-item")(7,"nz-form-label",1),a(8,"Age"),n(),o(9,"nz-form-control",2),p(10,"input",4),n()(),o(11,"nz-form-item")(12,"nz-form-label",1),a(13,"Address"),n(),o(14,"nz-form-control",2),p(15,"input",5),n()(),o(16,"nz-form-item")(17,"nz-form-control",6)(18,"button",7),a(19," Submit "),n(),o(20,"button",8),c("click",function(J){return l.resetForm(J)}),a(21,"Reset"),n()()()()),e&2&&(r("formGroup",l.validateForm),i(2),r("nzSpan",7),i(2),r("nzSpan",12)("nzErrorTip","Please input your username!"),i(3),r("nzSpan",7),i(2),r("nzSpan",12)("nzErrorTip","Age must be at least 18!"),i(3),r("nzSpan",7),i(2),r("nzSpan",12)("nzErrorTip","Please input your address!"),i(3),r("nzOffset",7)("nzSpan",12),i(),r("disabled",!l.validateForm.valid))},dependencies:[A,g,S,E,N,C,D,O,x,_,V,M,$,R,w,B,j,G,q,P,I],styles:["[nz-form][_ngcontent-%COMP%]{max-width:600px}button[_ngcontent-%COMP%]{margin-left:8px}"]})};var U=[{path:"",component:d}],W=class m{static \u0275fac=function(e){return new(e||m)};static \u0275mod=y({type:m});static \u0275inj=b({imports:[f.forChild(U),f]})};export{W as TambahRoutingModule};
